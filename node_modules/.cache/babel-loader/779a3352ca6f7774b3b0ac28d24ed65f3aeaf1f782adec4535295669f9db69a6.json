{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{HistoricalChart}from'../config/api';import{Line}from'react-chartjs-2';import{CircularProgress,createTheme,ThemeProvider}from'@mui/material';import SelectButton from'./SelectButton';import{chartDays}from'../config/data';import{CryptoState}from'../CryptoContext';import styled from'styled-components';import{Chart,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip}from'chart.js';import{useCallback}from'react';// Register the required components\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Chart.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip);const CoinInfo=_ref=>{let{coin}=_ref;const[historicData,setHistoricData]=useState();const[days,setDays]=useState(1);const{currency}=CryptoState();const[flag,setFlag]=useState(false);const Container=styled('div')(_ref2=>{let{theme}=_ref2;return{backgroundColor:\"#14161a\",width:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\",marginLeft:\"300px\",marginTop:25,padding:40,[theme.breakpoints.down(\"md\")]:{width:\"100%\",marginTop:0,padding:20,paddingTop:0,marginLeft:\"300px\"}};});const fetchHistoricData=useCallback(async()=>{try{const{data}=await axios.get(HistoricalChart(coin.id,days,currency));setFlag(true);setHistoricData(data.prices);}catch(error){console.error('Error fetching historical data:',error);}},[coin,days,currency]);useEffect(()=>{if(coin){fetchHistoricData();}},[fetchHistoricData,coin]);const darkTheme=createTheme({palette:{primary:{main:'#fff'},type:'dark'}});return/*#__PURE__*/_jsx(ThemeProvider,{theme:darkTheme,children:/*#__PURE__*/_jsx(\"div\",{className:Container,children:!historicData||!flag?/*#__PURE__*/_jsx(CircularProgress,{style:{color:'gold'},size:250,thickness:1}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Line,{data:{labels:historicData.map(coin=>{let date=new Date(coin[0]);let time=date.getHours()>12?\"\".concat(date.getHours()-12,\":\").concat(date.getMinutes(),\" PM\"):\"\".concat(date.getHours(),\":\").concat(date.getMinutes(),\" AM\");return days===1?time:date.toLocaleDateString();}),datasets:[{data:historicData.map(coin=>coin[1]),label:\"Price ( Past \".concat(days,\" Days ) in \").concat(currency),borderColor:\"#EEBC1D\"}]},options:{scales:{x:{type:'category'},y:{type:'linear'}},elements:{point:{radius:1}}}}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',marginTop:20,justifyContent:'space-around',width:'100%'},children:chartDays.map(day=>/*#__PURE__*/_jsx(SelectButton,{onClick:()=>{setDays(day.value);setFlag(false);},selected:day.value===days,children:day.label},day.value))})]})})});};export default CoinInfo;","map":{"version":3,"names":["React","useEffect","useState","axios","HistoricalChart","Line","CircularProgress","createTheme","ThemeProvider","SelectButton","chartDays","CryptoState","styled","Chart","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","useCallback","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","register","CoinInfo","_ref","coin","historicData","setHistoricData","days","setDays","currency","flag","setFlag","Container","_ref2","theme","backgroundColor","width","display","flexDirection","alignItems","justifyContent","marginLeft","marginTop","padding","breakpoints","down","paddingTop","fetchHistoricData","data","get","id","prices","error","console","darkTheme","palette","primary","main","type","children","className","style","color","size","thickness","labels","map","date","Date","time","getHours","concat","getMinutes","toLocaleDateString","datasets","label","borderColor","options","scales","x","y","elements","point","radius","day","onClick","value","selected"],"sources":["/media/shubham/New Volume/cryptocurrency-project/src/components/CoinInfo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { HistoricalChart } from '../config/api';\nimport { Line } from 'react-chartjs-2';\nimport { CircularProgress, createTheme, ThemeProvider } from '@mui/material';\nimport SelectButton from './SelectButton';\nimport { chartDays } from '../config/data';\nimport { CryptoState } from '../CryptoContext';\nimport styled from 'styled-components';\nimport { Chart, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip } from 'chart.js';\nimport { useCallback } from 'react';\n\n// Register the required components\nChart.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip);\n\nconst CoinInfo = ({ coin }) => {\n  const [historicData, setHistoricData] = useState();\n  const [days, setDays] = useState(1);\n  const { currency } = CryptoState();\n  const [flag, setFlag] = useState(false);\n\n  const Container = styled('div')(({ theme }) => ({\n    backgroundColor : \"#14161a\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginLeft : \"300px\",\n    marginTop: 25,\n    padding: 40,\n    [theme.breakpoints.down(\"md\")]: {\n      width: \"100%\",\n      marginTop: 0,\n      padding: 20,\n      paddingTop: 0,\n      marginLeft : \"300px\",\n    },\n  }));\n\n\n\n  const fetchHistoricData = useCallback(async () => {\n    try {\n      const { data } = await axios.get(HistoricalChart(coin.id, days, currency));\n      setFlag(true);\n      setHistoricData(data.prices);\n    } catch (error) {\n      console.error('Error fetching historical data:', error);\n    }\n  }, [coin, days, currency]);\n  \n  useEffect(() => {\n    if (coin) {\n      fetchHistoricData();\n    }\n  }, [fetchHistoricData,coin]);\n  \n  \n\n  const darkTheme = createTheme({\n    palette: {\n      primary: {\n        main: '#fff',\n      },\n      type: 'dark',\n    },\n  });\n\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <div className={Container}>\n        {!historicData || !flag ? (\n          <CircularProgress style={{ color: 'gold' }} size={250} thickness={1} />\n        ) : (\n          <>\n            <Line\n              data={{\n                labels: historicData.map((coin) => {\n                  let date = new Date(coin[0]);\n                  let time =\n                    date.getHours() > 12\n                      ? `${date.getHours() - 12}:${date.getMinutes()} PM`\n                      : `${date.getHours()}:${date.getMinutes()} AM`;\n                  return days === 1 ? time : date.toLocaleDateString();\n                }),\n\n                datasets: [\n                  {\n                    data: historicData.map((coin) => coin[1]),\n                    label: `Price ( Past ${days} Days ) in ${currency}`,\n                    borderColor: \"#EEBC1D\",\n                  },\n                ],\n              }}\n              options={{\n                scales: {\n                  x: {\n                    type: 'category',\n                  },\n                  y: {\n                    type: 'linear',\n                  },\n                },\n                elements: {\n                  point: {\n                    radius: 1,\n                  },\n                },\n              }}\n            />\n            <div\n              style={{\n                display: 'flex',\n                marginTop: 20,\n                justifyContent: 'space-around',\n                width: '100%',\n              }}\n            >\n              {chartDays.map((day) => (\n                <SelectButton\n                  key={day.value}\n                  onClick={() => {\n                    setDays(day.value);\n                    setFlag(false);\n                  }}\n                  selected={day.value === days}\n                >\n                  {day.label}\n                </SelectButton>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default CoinInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}